\documentclass{jsarticle}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{xparse}

\makeatletter

\def\@derivative@vecOp@op{}

\newcommand{\@derivative@vecOp@setOp}[7]{%
	\renewcommand{\@derivative@vecOp@op}{%
		\nabla%
		%\IfBooleanT{#1}{'}\IfBooleanT{#2}{'}\IfBooleanT{#3}{'}%
		%\IfBooleanT{#4}{'}\IfBooleanT{#5}{'}%
		% 何故か上のやり方ではdouble superscriptになったので下に修正
		\IfBooleanTF{#1}{
			\IfBooleanTF{#2}{
				\IfBooleanTF{#3}{
					\IfBooleanTF{#4}{
						\IfBooleanTF{#5}{
							'''''
						}{''''}
					}{'''}
				}{''}
			}{'}
		}{}
		{}^{#6}_{#7}%
	}
}

\RenewDocumentCommand\div{t't't't't' D<>{} O{} D(){0} m}{%
	\@derivative@vecOp@setOp{#1}{#2}{#3}{#4}{#5}{#6}{#7}
	\ensuremath{%
		\@derivative@vecOp@op\cdot%
		\ifnum #8=0%
			#9%
		\else{%
			\ifnum #8=1%
				\left(#9\right)%
			\else{%
				\ifnum #8=2%
					\left\{#9\right\}%
				\else{%
					\text{エラー}%
				}\fi%
			}\fi%
		}\fi%
	}
}
\NewDocumentCommand\laplace{t't't't't' D<>{} O{} D(){0} m}{%
	\@derivative@vecOp@setOp{#1}{#2}{#3}{#4}{#5}{#6}{#7}
	\ensuremath{%
		{\@derivative@vecOp@op}^{2}%
		\ifnum #8=0%
			#9%
		\else{%
			\ifnum #8=1%
				\left(#9\right)%
			\else{%
				\ifnum #8=2%
					\left\{#9\right\}%
				\else{%
					\text{エラー}%
				}\fi%
			}\fi%
		}\fi%
	}
}



%\NewDocumentCommand\@vectorOperator


\makeatother



\begin{document}
\tracingonline=1
\tracingmacros=1
\tracingcommands=1


\begin{align}
	\div{\bm{v}} \\
	\div[\bm{r}]{\bm{v}} \\
	\div[\bm{r}[2]]{\bm{v}} \\
	\div'{\bm{v}} \\
	\div'''{\bm{v}} \\
	\nabla'\cdot\bm{v} \\
	\div(2){\bm{v}}
\end{align}

\begin{align}
	\laplace{f} \\
	\laplace'''{f} \\
	{\nabla'''{}^{}_{}}^{2} f \\
	\laplace[\bm{r}']{f}
\end{align}


% ベクトル演算子マクロ2\verb|\pdrr|
% \begin{align}
% 1		&\	\pdrr{{x}{f}} \\ 				% pass
% 2		&\	\pdrr{{i}{j}{f}} \\ 			% pass
% 3		&\	\pdrr{{i}*{j}{f}} \\ 			% pass
% 4		&\	\pdrr{*{i}{j}{f}} \\ 			% pass
% \end{align}


\end{document}